# 云端知识库性能测试报告

**生成时间**: 2026-02-02 22:13:44

## 一、参与对比的知识库

本报告对比以下 **4 个云端知识库**：

1. **AWS Bedrock KB (OpenSearch Serverless)**：基于 Amazon OpenSearch Serverless 的向量检索，HNSW 索引，专为 k-NN 搜索优化，部署简单、自动扩展。
1. **AWS Bedrock KB (Aurora PostgreSQL Serverless)**：基于 Aurora PostgreSQL Serverless v2 + pgvector，完整 SQL、ACID 事务，成本低，需 VPC。
1. **火山引擎 VikingDB**：字节跳动云自研向量引擎，支持混合检索与内置 Rerank，中文优化。
1. **阿里云百炼**：阿里云智能体知识库，自研向量与混合检索，中文深度优化，内置 Rerank。

### 🏗️ 架构特点对比

### 🏗️ 架构特点对比

| 特性 | AWS OpenSearch | AWS Aurora PG | 火山引擎 VikingDB | 阿里云百炼 |
|------|---------------|---------------|------------------|------------|
| **底层技术** | OpenSearch + HNSW | PostgreSQL + pgvector | 自研向量引擎 | 自研向量引擎 |
| **索引类型** | HNSW | IVFFlat/HNSW | HNSW + Hybrid | 混合检索 |
| **SQL支持** | 有限 | ✅ 完整 | 有限 | 有限 |
| **ACID事务** | ❌ | ✅ | ❌ | ❌ |
| **自动扩展** | ✅ | ✅ | ✅ | ✅ |
| **部署复杂度** | 简单 | 中等(需VPC) | 简单 | 简单 |
| **中文优化** | 一般 | 一般 | ✅ 优化 | ✅ 深度优化 |
| **混合检索** | 支持 | 需自实现 | ✅ 原生支持 | ✅ 原生支持 |
| **Rerank** | 需自实现 | 需自实现 | ✅ 内置 | ✅ 内置 |


## 二、测试方法

**测试方法**：

- **文档规模**：各知识库已**预先入库 100 个文档**（小学考试题目），本次测试不执行上传与建索引。
- **查询测试**：使用 test-data 中的题目生成查询，对每个知识库执行相同查询，统计延迟与吞吐。
- **质量评估**：基于查询与 ground truth 计算 Precision@1、MRR、NDCG@10 等检索质量指标。
- **成本对比**：基于各云厂商公开定价估算 100 文档规模下的月度成本。


## 三、对比结果

### 🔍 分维度性能对比（基于P95）

#### 1️⃣ 端到端延迟P95对比（含网络）

| 排名 | 知识库 | P95延迟 (ms) | 与最优差距 |
|------|--------|--------------|-----------|
| 🥇 | AWSBedrockKB-Aurora | 848.07 | +0.00ms |
| 🥈 | AWSBedrockKB-OpenSearch | 951.96 | +103.89ms |
| 🥉 | VolcengineVikingDB | 2269.00 | +1420.93ms |
| 4 | AlibabaBailian | 5239.64 | +4391.57ms |

#### 2️⃣ 服务端处理时延P95对比（排除网络）

| 排名 | 知识库 | 网络基线P95 (ms) | 服务端P95 (ms) | 与最优差距 |
|------|--------|------------------|----------------|-----------|
| 🥇 | AWSBedrockKB-Aurora | 2121.12 | 108.91 | +0.00ms |
| 🥈 | AWSBedrockKB-OpenSearch | 3709.28 | 335.90 | +226.99ms |
| 🥉 | VolcengineVikingDB | 1064.61 | 1859.35 | +1750.43ms |
| 4 | AlibabaBailian | 0.12 | 5239.57 | +5130.66ms |

*注：服务端时延 = 端到端延迟 - 网络基线延迟*

#### 3️⃣ 吞吐量对比（QPS）

| 排名 | 知识库 | QPS | 成功率 | 与最优差距 |
|------|--------|-----|--------|-----------|
| 🥇 | VolcengineVikingDB | 0.41 | 100.0% | 0.0% |
| 🥈 | AWSBedrockKB-OpenSearch | 0.38 | 100.0% | -7.3% |
| 🥉 | AWSBedrockKB-Aurora | 0.37 | 100.0% | -9.8% |
| 4 | AlibabaBailian | 0.24 | 100.0% | -41.5% |

#### 4️⃣ 检索质量对比

| 排名 | 知识库 | MRR | Precision@1 | NDCG@10 |
|------|--------|-----|-------------|---------|
| 🥇 | AWSBedrockKB-OpenSearch | 0.800 | 0.800 | 0.631 |
| 🥈 | AlibabaBailian | 0.633 | 0.600 | 0.948 |
| 🥉 | VolcengineVikingDB | 0.620 | 0.600 | 1.041 |
| 4 | AWSBedrockKB-Aurora | 0.480 | 0.400 | 0.604 |

### 成本对比（100 文档规模估算）

| 知识库 | 数据量 | 月度成本 | 成本构成 |
|--------|--------|----------|----------|
| AWS Bedrock (OpenSearch) | 0.1GB | ~$700/月 | 4 OCU × $0.24 × 730h |
| AWS Bedrock (Aurora PG) | 0.1GB | ~$44/月 | 0.5 ACU × $0.12 × 730h |
| 火山引擎 VikingDB | 0.1GB | ~¥300/月 | 实例费 + 存储费 |
| 阿里云百炼 | 0.1GB | ~¥200/月 | 按调用次数计费 |

### 综合对比

| 知识库 | P50延迟 | P95延迟 | QPS | P@1 | MRR | NDCG@10 |
|--------|---------|---------|-----|-----|-----|---------|
| AWSBedrockKB-OpenSearch | 609.44ms | 951.96ms | 0.38 | 0.800 | 0.800 | 0.631 |
| AWSBedrockKB-Aurora | 716.77ms | 848.07ms | 0.37 | 0.400 | 0.480 | 0.604 |
| VolcengineVikingDB | 780.05ms | 2269.00ms | 0.41 | 0.600 | 0.620 | 1.041 |
| AlibabaBailian | 4594.63ms | 5239.64ms | 0.24 | 0.600 | 0.633 | 0.948 |
### 🏆 综合评分对比

| 知识库 | 性能得分 | 质量得分 | 成本得分 | 易用性 | 综合评分 | 推荐场景 |
|--------|---------|---------|---------|--------|---------|----------|
| AWSBedrockKB-OpenSearch | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 性能优先 |
| AWSBedrockKB-Aurora | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | 成本优先 |
| VolcengineVikingDB | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | 国内应用 |
| AlibabaBailian | ⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | 质量优先 |

### 🎯 检索质量深度分析

**质量冠军**: AWSBedrockKB-OpenSearch

- **MRR (Mean Reciprocal Rank)**: 0.800 - 衡量正确结果的平均排名位置
- **Precision@1**: 0.800 - 首位结果的准确率
- **召回能力**: 在相同查询下返回更多相关文档

**质量差异分析**:

1. 🥇 **AWSBedrockKB-OpenSearch** - MRR: 0.800, P@1: 0.800 (最佳检索质量)
2. 🥈 **AlibabaBailian** - MRR: 0.633, P@1: 0.600
3. 🥉 **VolcengineVikingDB** - MRR: 0.620, P@1: 0.600
4. **AWSBedrockKB-Aurora** - MRR: 0.480, P@1: 0.400

### ⚡ 性能特点总结

- **最快响应**: AWSBedrockKB-OpenSearch (P50: 609.44ms)
- **质量最佳**: AWSBedrockKB-OpenSearch (MRR: 0.800)
- **成本最优**: AWS Bedrock (Aurora) (~$44/月)


## 四、选型建议

根据时延、吞吐、检索质量与成本对比，建议按场景选型：

| 场景 | 推荐知识库 | 说明 |
|------|------------|------|
| **成本优先、已有 RDS** | AWS Bedrock (Aurora PostgreSQL Serverless) | 约 $44/月，完整 SQL、ACID，适合低中查询量。 |
| **延迟与稳定性优先、预算充足** | AWS Bedrock (OpenSearch) | 专为 k-NN 优化，部署简单，P95 更稳定。 |
| **中文检索与质量优先** | 阿里云百炼 | 中文深度优化、内置 Rerank，适合对 MRR/P@1 要求高的场景。 |
| **国内部署、混合检索** | 火山引擎 VikingDB | 国内延迟低，混合检索 + Rerank 内置，适合国内业务。 |

**简要结论**：
- 选 **Aurora PG**：成本敏感、需 SQL/事务、已有 AWS RDS。
- 选 **OpenSearch**：对 P95/P99 延迟要求高、纯向量检索、可接受较高成本。
- 选 **阿里云百炼**：强调中文语义与检索质量、已有阿里云。
- 选 **火山引擎 VikingDB**：业务在国内、需要混合检索与 Rerank。

---

*本报告由云端知识库性能测试框架自动生成*